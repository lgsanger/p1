<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Through the Little Door - Lila's Coraline World</title>
        <meta name="description" content="Lila's Look Into Coraline's World - theories, essays, and more about the beloved stop-motion film">
        <link rel="stylesheet" href="assets/css/styles.css"> 
    </head>
    
<body>

<!-- Background Music -->
<audio id="background-music" loop autoplay>
    <source src="assets/audio/soundtrack.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<script>
// Music playback management
var audio = document.getElementById('background-music');
var musicStartAttempted = false;

// Try multiple methods to start audio immediately
function startMusic() {
    if (musicStartAttempted) return;
    musicStartAttempted = true;
    
    // Check if returning visitor with saved time
    if (localStorage.getItem('musicStarted') === 'true') {
        var savedTime = parseFloat(localStorage.getItem('musicTime') || 0);
        audio.currentTime = savedTime;
    }
    
    // Attempt to play
    audio.play().then(function() {
        localStorage.setItem('musicStarted', 'true');
    }).catch(function(error) {
        console.log('Autoplay blocked:', error);
    });
}

// Try immediately
startMusic();

// Try on DOMContentLoaded
document.addEventListener('DOMContentLoaded', startMusic);

// Try on window load
window.addEventListener('load', startMusic);

// Save time every second
audio.addEventListener('timeupdate', function() {
    localStorage.setItem('musicTime', audio.currentTime);
});
</script>

<header>
  <h1 id="title"><b>through the little door</b></h1>
  <h2 id="sub-title">Lila's Look Into Coraline's World</h2>
</header>

<nav aria-label="Main navigation">
    <ul class="topnav">
        <li id="pop-theories" class="menu-bar-headings">
            <a href="subpages/pop_theories.html">Popular Theories</a>
        </li>
        <li class="menu-bar-headings">
            <a href="subpages/essays.html">My Essays</a>
        </li>
        <li class="menu-bar-headings">
            <a href="subpages/bugs.html">Bugs of Coraline</a>
        </li>
        <li class="menu-bar-headings">
            <a href="subpages/crafts.html">Coraline Crafts</a>
        </li>
        <li class="menu-bar-headings">
            <a href="subpages/about.html">Contact and About</a>
        </li>
    </ul>
</nav>

<div class="home-page-container">
    <div class="portal-container">
        <img class="coraline-home-image" src="assets/images/noFilter.webp" alt="image of Coraline crawling through the portal to the Other World">
    </div>
</div>

</body>
</html>
